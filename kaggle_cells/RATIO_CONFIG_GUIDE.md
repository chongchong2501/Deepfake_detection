# 真假视频比例配置指南

## 📊 比例选择建议

### 🎯 1:1 平衡比例（推荐新手）
**适用场景：** 模型训练、学术研究、基础评估
**优势：** 
- 模型不会偏向任何一类
- 训练稳定，容易收敛
- 评估指标更可靠

**配置示例：**
```python
MAX_REAL_VIDEOS = 500
MAX_FAKE_VIDEOS = 500
REAL_FAKE_RATIO = "1:1"
```

### 🎯 1:2 轻微偏向假视频
**适用场景：** 提高假视频检测敏感度
**优势：**
- 增强模型对假视频的识别能力
- 减少假阴性（漏检假视频）
- 适合对安全性要求较高的场景

**配置示例：**
```python
MAX_REAL_VIDEOS = 300
MAX_FAKE_VIDEOS = 600
REAL_FAKE_RATIO = "1:2"
```

### 🎯 1:3 中等偏向假视频（推荐实际应用）
**适用场景：** 实际部署、商业应用
**优势：**
- 更接近真实世界的数据分布
- 平衡检测精度和召回率
- 适合大多数实际应用场景

**配置示例：**
```python
MAX_REAL_VIDEOS = 250
MAX_FAKE_VIDEOS = 750
REAL_FAKE_RATIO = "1:3"
```

### 🎯 1:6 强烈偏向假视频
**适用场景：** 模拟真实世界分布、高风险环境
**优势：**
- 模拟互联网上假视频更多的现实情况
- 最大化假视频检测能力
- 适合内容审核、媒体验证等场景

**配置示例：**
```python
MAX_REAL_VIDEOS = 150
MAX_FAKE_VIDEOS = 900
REAL_FAKE_RATIO = "1:6"
```

## 🔧 快速配置模板

### 方案一：平衡训练（1:1）
```python
# 在 cell_09_data_preparation.py 中修改
MAX_REAL_VIDEOS = 500
MAX_FAKE_VIDEOS = 500
REAL_FAKE_RATIO = "1:1"
```

### 方案二：实际应用（1:3）
```python
# 在 cell_09_data_preparation.py 中修改
MAX_REAL_VIDEOS = 300
MAX_FAKE_VIDEOS = 900
REAL_FAKE_RATIO = "1:3"
```

### 方案三：高敏感度（1:6）
```python
# 在 cell_09_data_preparation.py 中修改
MAX_REAL_VIDEOS = 200
MAX_FAKE_VIDEOS = 1200
REAL_FAKE_RATIO = "1:6"
```

## 📈 性能影响分析

| 比例 | 训练稳定性 | 假视频检测率 | 真视频误判率 | 推荐场景 |
|------|------------|--------------|--------------|----------|
| 1:1  | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐ | 学习、研究 |
| 1:2  | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐ | 安全应用 |
| 1:3  | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐ | 商业部署 |
| 1:6  | ⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐ | 高风险环境 |

## ⚠️ 注意事项

### 训练参数调整
不同比例可能需要调整训练参数：

**1:1 比例：**
- 使用默认参数即可
- 标准的损失函数权重

**1:3 或 1:6 比例：**
- 可能需要调整类别权重
- 考虑使用 Focal Loss 处理类别不平衡
- 增加早停的耐心值

### 评估指标选择
- **1:1 比例：** 关注准确率和 F1-score
- **1:3+ 比例：** 重点关注召回率和 AUC
- **高比例：** 使用精确率-召回率曲线评估

## 🎯 推荐策略

### 初学者路径
1. **第一次训练：** 使用 1:1 比例熟悉流程
2. **优化阶段：** 尝试 1:2 或 1:3 比例
3. **实际部署：** 根据应用场景选择合适比例

### 专业用户路径
1. **分析需求：** 确定假阴性和假阳性的相对重要性
2. **选择比例：** 根据实际数据分布选择
3. **调优参数：** 配合比例调整训练参数
4. **评估验证：** 使用多种指标验证效果

## 🔄 动态调整建议

### 训练过程中的观察指标
- **过拟合信号：** 验证集准确率下降
- **欠拟合信号：** 训练和验证准确率都很低
- **偏向性问题：** 某一类的准确率过低

### 调整策略
```python
# 如果假视频检测率低，增加假视频比例
MAX_FAKE_VIDEOS = int(MAX_REAL_VIDEOS * 3)  # 1:3

# 如果真视频误判率高，减少假视频比例
MAX_FAKE_VIDEOS = int(MAX_REAL_VIDEOS * 1.5)  # 1:1.5

# 如果训练不稳定，回到平衡比例
MAX_FAKE_VIDEOS = MAX_REAL_VIDEOS  # 1:1
```

## 📊 六种假视频算法说明

我们的数据集包含六种不同的假视频生成算法：

1. **Deepfakes** - 经典的深度学习换脸算法
2. **Face2Face** - 实时面部重演算法  
3. **FaceSwap** - 开源换脸算法
4. **NeuralTextures** - 神经纹理渲染算法
5. **FaceShifter** - 高质量换脸算法
6. **DeepFakeDetection** - 专门用于检测的假视频

**多样性优势：**
- 提高模型的泛化能力
- 覆盖不同类型的假视频攻击
- 更好地模拟真实世界的威胁

**建议：** 保持所有六种算法的数据，让模型学习识别各种类型的假视频。